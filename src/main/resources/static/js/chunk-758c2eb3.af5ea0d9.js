(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-758c2eb3"],{"3d28":function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"数据库表名称"}},[r("a-input",{attrs:{placeholder:"请输入"},model:{value:e.queryParam.tableName,callback:function(a){e.$set(e.queryParam,"tableName",a)},expression:"queryParam.tableName"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons"},[r("a-button",{attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.clearFilter}},[e._v("重置")])],1)])],1)],1)],1),r("s-table",{ref:"table",attrs:{size:"default",rowKey:"tableName",columns:e.columns,data:e.loadData},scopedSlots:e._u([{key:"action",fn:function(a,t){return r("span",{},[r("a",{on:{click:function(a){return e.$refs.modal.handleGenerator(t)}}},[e._v("生成代码")])])}}])}),r("generator-modal",{ref:"modal",attrs:{tableRefresh:this.handleTableRefresh}})],1)},n=[],o=r("ab09"),l=r("b775");function i(e){return Object(l["b"])({url:"/tool/generator",method:"get",params:e})}function s(e){return Object(l["b"])({url:"/tool/generator/code",method:"get",params:e,responseType:"arraybuffer"})}var c=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("a-modal",{attrs:{title:"生成代码",width:800,confirmLoading:e.confirmLoading},on:{ok:e.handleOk},model:{value:e.visible,callback:function(a){e.visible=a},expression:"visible"}},[r("a-form",{attrs:{form:e.form}},[r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"表名称",hasFeedback:""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["tableName",{rules:[{required:!0,message:"请输入数据库表名称!"}]}],expression:"['tableName',{rules: [{required: true, message: '请输入数据库表名称!'}]}]"}],attrs:{placeholder:"请输入数据库表名称",disabled:"disabled"}})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模块包名",hasFeedback:""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["module",{rules:[{required:!0,message:"请输入模块包名!"}]}],expression:"['module',{rules: [{required: true, message: '请输入模块包名!'}]}]"}],attrs:{placeholder:"模块包名, 例：权限模块 -> auth"}})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"功能编码",hasFeedback:""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["functionCode",{rules:[{required:!0,message:"请输入功能编码!"}]}],expression:"['functionCode',{rules: [{required: true, message: '请输入功能编码!'}]}]"}],attrs:{placeholder:"功能编码, 例：用户管理 -> user"}})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"请求地址",hasFeedback:""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["requestMapping",{rules:[{required:!0,message:"请输入请求地址!"}]}],expression:"['requestMapping',{rules: [{required: true, message: '请输入请求地址!'}]}]"}],attrs:{placeholder:"请求地址, 例：用户管理 -> sys/user"}})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"页面模块",hasFeedback:""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["viewPath",{rules:[{required:!0,message:"请输入页面模块!"}]}],expression:"['viewPath',{rules: [{required: true, message: '请输入页面模块!'}]}]"}],attrs:{placeholder:"页面模块, 例：用户管理 -> system/user"}})],1),r("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"生成类型"}},[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请选择类型!"}]}],expression:"['type', {rules: [{required: true, message: '请选择类型!'}]}]"}],attrs:{buttonStyle:"solid"}},e._l(e.radioValue,function(a){return r("a-radio",{key:a.radioCode,attrs:{value:a.radioCode}},[e._v(e._s(a.radioText))])}),1)],1)],1),r("a-divider",{attrs:{orientation:"left"}},[e._v("注意事项")]),r("a-card",[r("p",[e._v("1.模块包名：java文件package使用，比如权限模块应为auth")]),r("p",[e._v("2.功能编码：用户管理应配置为user，生成api")]),r("p",[e._v("3.请求地址：用户管理应配置为sys/user，requestMapping的值")]),r("p",[e._v("4.页面模块：用户管理应配置为system/user，views资源路径")])])],1)},u=[],d=r("88bc"),m=r.n(d),p={name:"GeneratorModal",data:function(){return{visible:!1,confirmLoading:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:this.$form.createForm(this),modal:{},radioValue:[{radioCode:0,radioText:"生成包结构"},{radioCode:1,radioText:"只生成源代码"}]}},props:{tableRefresh:{type:Function,required:!0}},methods:{handleGenerator:function(e){var a=this;this.form.resetFields(),this.modal=Object.assign({},e),this.visible=!0,this.$nextTick(function(){a.form.setFieldsValue(m()(a.modal,"tableName"))})},handleOk:function(e){var a=this;e.preventDefault(),this.confirmLoading=!0,this.form.validateFieldsAndScroll(function(e,r){e?a.confirmLoading=!1:s(r).then(function(e){a.download(e,r.tableName),a.$message.success("生成代码成功"),a.$emit("ok"),a.tableRefresh(!0),a.confirmLoading=!1,a.visible=!1}).catch(function(){a.$message.error("生成代码失败"),a.confirmLoading=!1})})},handleCancel:function(){this.$emit("close"),this.visible=!1},download:function(e,a){if(e)if(a+=".zip","download"in document.createElement("a")){var r=document.createElement("a");r.download=a,r.style.display="none",r.href=URL.createObjectURL(e),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}else navigator.msSaveBlob(e,a)}}},f=p,b=r("2877"),h=Object(b["a"])(f,c,u,!1,null,null,null),v=h.exports,g={name:"GeneratorList",components:{GeneratorModal:v,STable:o["a"]},data:function(){var e=this;return{description:"",advanced:!1,queryParam:{tableName:""},columns:[{title:"表名称",dataIndex:"tableName"},{title:"数据库引擎类型",dataIndex:"engine"},{title:"备注",dataIndex:"tableComment"},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(a){return i(Object.assign(a,e.queryParam)).then(function(e){return e}).catch(function(e){})}}},methods:{handleFilter:function(){this.$refs.table.refresh(!0)},clearFilter:function(){this.queryParam.tableName=""},handleTableRefresh:function(e){this.$refs.table.refresh(e)},toggleAdvanced:function(){this.advanced=!this.advanced}}},y=g,w=Object(b["a"])(y,t,n,!1,null,null,null);a["default"]=w.exports},"88bc":function(e,a,r){(function(a){var r=1/0,t=9007199254740991,n="[object Arguments]",o="[object Function]",l="[object GeneratorFunction]",i="[object Symbol]",s="object"==typeof a&&a&&a.Object===Object&&a,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")();function d(e,a,r){switch(r.length){case 0:return e.call(a);case 1:return e.call(a,r[0]);case 2:return e.call(a,r[0],r[1]);case 3:return e.call(a,r[0],r[1],r[2])}return e.apply(a,r)}function m(e,a){var r=-1,t=e?e.length:0,n=Array(t);while(++r<t)n[r]=a(e[r],r,e);return n}function p(e,a){var r=-1,t=a.length,n=e.length;while(++r<t)e[n+r]=a[r];return e}var f=Object.prototype,b=f.hasOwnProperty,h=f.toString,v=u.Symbol,g=f.propertyIsEnumerable,y=v?v.isConcatSpreadable:void 0,w=Math.max;function C(e,a,r,t,n){var o=-1,l=e.length;r||(r=q),n||(n=[]);while(++o<l){var i=e[o];a>0&&r(i)?a>1?C(i,a-1,r,t,n):p(n,i):t||(n[n.length]=i)}return n}function x(e,a){return e=Object(e),j(e,a,function(a,r){return r in e})}function j(e,a,r){var t=-1,n=a.length,o={};while(++t<n){var l=a[t],i=e[l];r(i,l)&&(o[l]=i)}return o}function k(e,a){return a=w(void 0===a?e.length-1:a,0),function(){var r=arguments,t=-1,n=w(r.length-a,0),o=Array(n);while(++t<n)o[t]=r[a+t];t=-1;var l=Array(a+1);while(++t<a)l[t]=r[t];return l[a]=o,d(e,this,l)}}function q(e){return O(e)||N(e)||!!(y&&e&&e[y])}function F(e){if("string"==typeof e||T(e))return e;var a=e+"";return"0"==a&&1/e==-r?"-0":a}function N(e){return L(e)&&b.call(e,"callee")&&(!g.call(e,"callee")||h.call(e)==n)}var O=Array.isArray;function _(e){return null!=e&&S(e.length)&&!$(e)}function L(e){return P(e)&&_(e)}function $(e){var a=R(e)?h.call(e):"";return a==o||a==l}function S(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}function R(e){var a=typeof e;return!!e&&("object"==a||"function"==a)}function P(e){return!!e&&"object"==typeof e}function T(e){return"symbol"==typeof e||P(e)&&h.call(e)==i}var A=k(function(e,a){return null==e?{}:x(e,m(C(a,1),F))});e.exports=A}).call(this,r("c8ba"))}}]);